
                        Section 3 - Notes
                         Private Registry
                         

$ docker run -d -p 5500:5000 --restart=always --name registry registry:latest
Unable to find image 'registry:latest' locally
2: Pulling from library/registry
79e9f2f55bf5: Pull complete 
0d96da54f60b: Pull complete 
5b27040df4a2: Pull complete 
e2ead8259a04: Pull complete 
3790aef225b9: Pull complete 
Digest: sha256:169211e20e2f2d5d115674681eb79d21a217b296b43374b8e39f97fcf866b375
Status: Downloaded newer image for registry:latest
c0c1cf85b514601f1d97890361e25e99508f247453d7fd90cf243119550accc1

$ docker image ls registry
REPOSITORY     TAG      IMAGE ID           SIZE
registry       latest   b8604a3fe854       26.2MB

$ docker ps -a
CONTAINER ID    IMAGE            COMMAND                 PORTS                   NAMES
c0c1cf85b514    registry:latest  "/entrypoint.sh /etcâ€¦"  0.0.0.0:5500->5000/tcp  registry

$ docker pull debian:10.4
10.4: Pulling from library/debian
31dd5ebca5ef: Pull complete 
Digest: sha256:68f4e2259032a4e6f5035804e64438b52af8dd5889528b305b9059183ea4cd2a
Status: Downloaded newer image for debian:10.4
docker.io/library/debian:10.4

$ docker image ls debian
REPOSITORY    TAG       IMAGE ID            SIZE
debian        10.4      ae8514941ea4        114MB

$ docker tag debian:10.4 localhost:5500/my-debian

$ docker push localhost:5500/my-debian
The push refers to repository [localhost:5500/my-debian]
6086e1b289d9: Pushed 
latest: digest: sha256:aaaaf56b44807c64d294e6c8059b479f35350b454492398225034174808d1726 size: 529

$ docker rmi debian:10.4
Untagged: debian:10.4
Untagged: debian@sha256:68f4e2259032a4e6f5035804e64438b52af8dd5889528b305b9059183ea4cd2a

$ docker rmi localhost:5500/my-debian
Untagged: localhost:5500/my-debian:latest
Untagged: localhost:5500/my-debian@sha256:aaaaf56b44807c64d294e6c8059b479f35350b454492398225034174808d1726
Deleted: sha256:ae8514941ea4f23d4948150debf0f92a427c136aa4e7fb85f9c56bba09452572
Deleted: sha256:6086e1b289d997dfd19df1ec9366541c49f5545520f9dc65ebd4cd64071497b4

$ docker pull localhost:5500/my-debian
Using default tag: latest
latest: Pulling from my-debian
31dd5ebca5ef: Pull complete 
Digest: sha256:aaaaf56b44807c64d294e6c8059b479f35350b454492398225034174808d1726
Status: Downloaded newer image for localhost:5500/my-debian:latest
localhost:5500/my-debian:latest

$ docker image ls localhost:5500/my-debian
REPOSITORY                 TAG         IMAGE ID          SIZE
localhost:5500/my-debian   latest      ae8514941ea4      114MB

$ docker stop registry
registry

$ docker restart registry
registry

$ docker stop registry
registry

$ docker rm registry
registry

$ docker rmi registry:latest
Untagged: registry:latest
Untagged: registry@sha256:169211e20e2f2d5d115674681eb79d21a217b296b43374b8e39f97fcf866b375
Deleted: sha256:b8604a3fe8543c9e6afc29550de05b36cd162a97aa9b2833864ea8a5be11f3e2
Deleted: sha256:fd39b5678fdb70fc98ac5e6b4e7383f1b74b7f1a08bc6dd74fadadcc4beaf364
Deleted: sha256:257233028f13603bb798c16d606c95197fe8a0d44fee0967b64064910aee8787
Deleted: sha256:64e59810e3d9de53fdd533e997a84888f27885e5fa629d08432f8734ccda6a84
Deleted: sha256:d762955e40186664f55d6dc3d44c4bc746751f010bf43fc7b1f13326d7216189
Deleted: sha256:69715584ec78c168981b0925dd7c50f4537bc598dcbce814db2803a10b777b5c

